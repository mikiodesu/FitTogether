<div class="container">
  <div class="row justify-content-center">
    <div class="col-md-6">

      <h2 class="mb-4 text-center">フォロー中 <%= @user.followings.count %>人</h2>

      <% if @users.present? %>
        <% @users.each do |user| %>
          <div class="card mb-2 shadow-sm">
            <div class="card-body d-flex align-items-center justify-content-between">

              <!-- 左：プロフィール画像＋名前 -->
              <div class="d-flex align-items-center gap-3">
                <%= image_tag user.get_profile_image(40,40), class: "rounded-circle border" %>
                <%= link_to user.name, user_path(user), class: "fw-bold text-decoration-none" %>
              </div>

              <!-- 右：フォロー/フォロー解除ボタン -->
              <% unless current_user == user %>
                <div>
                  <% if current_user.following?(user) %>
                    <%= button_to "フォロー解除", user_relationships_path(user), method: :delete, class: "btn btn-outline-danger btn-sm" %>
                  <% else %>
                    <%= button_to "フォローする", user_relationships_path(user), method: :post, class: "btn btn-primary btn-sm" %>
                  <% end %>
                </div>
              <% end %>

            </div>
          </div>
        <% end %>
      <% else %>
        <p class="text-center text-muted">フォロー中のユーザーはいません</p>
      <% end %>

    </div>
  </div>
</div>